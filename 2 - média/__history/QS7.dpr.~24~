program QS7;

uses
  Vcl.Dialogs,
  Classes,
  SysUtils,

  UTroco in 'uTroco.pas',
  UIMaquina in 'uIMaquina.pas',
  UMaquina in 'uMaquina.pas';

{$R *.RES}


var
  Str, TpCedula: String;
  Machine: TMaquina;
  List: TList;
  Troco: TTroco;
  I: Integer;

begin
  Machine := TMaquina.Create;
  try
    List := Machine.MontarTroco( 125.15 );
    try
      Str   := 'A entrada é 125,15 e a saída é:' + #13;
      for I := 0 to List.Count - 1 do
      begin
        Troco := TTroco( List[ I ] );

        if ( Integer( Troco.Tipo ) > 5 ) then
          TpCedula := 'moeda'
        else
          TpCedula := 'nota';

        Str := Str + ( ' ' + IntToStr( Troco.Quantidade ) + ' ' + TpCedula + ' de ' +
                    CValorCedula[ Troco.Tipo ] + '% M - Quantidade: % D ' + #13 );
      end;
    finally
      FreeAndNil( List );
    end;
    ShowMessage( Str );
  finally
    FreeAndNil( Machine );
  end;

end.
